---
import { generateCSS } from './fontaine'

export interface Props {
  /**
   * URL to stylesheet with `@font-face` declarations.
   */
  href: string
  /**
   * The font family's name.
   */
  family: string
  /**
   * List of fallback fonts to use while the remote font loads.
   */
  fallbacks: string[]
  /**
   * Directory to save the fonts to. Must be in Astro's `public` directory.
   *
   * @default "./public/astro-fontaine"
   */
  fontDirectory?: string
}

const generatedCSS = await generateCSS(Astro.props)
---

<style data-fontaine-href={Astro.props.href} set:html={generatedCSS}></style>
